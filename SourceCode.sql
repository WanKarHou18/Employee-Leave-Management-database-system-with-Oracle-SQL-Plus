DROP TABLE DEPARTMENT CASCADE CONSTRAINTS;
DROP TABLE SUPERVISOR CASCADE CONSTRAINTS;
DROP TABLE LEAVE_TYPE CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE FULL_TIME_EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE CONTRACT_EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE LEAVE CASCADE CONSTRAINTS;
DROP TABLE DEPARTMENT_RECORD CASCADE CONSTRAINTS;
DROP TABLE CURRENT_LEAVE CASCADE CONSTRAINTS;
DROP TABLE FORWARD_LEAVE CASCADE CONSTRAINTS;

CREATE TABLE DEPARTMENT
(DEPT_NO VARCHAR2(8) NOT NULL,
DEPT_NAME VARCHAR(30) NOT NULL,
CONSTRAINT DEPARTMENT_DEPT_NO_CC CHECK (DEPT_NO LIKE 'DE_%'),
CONSTRAINT DEPARTMENT_DEPT_NO_PK PRIMARY KEY (DEPT_NO));

CREATE TABLE SUPERVISOR
(SV_ID VARCHAR(8) NOT NULL,
DEPT_NO VARCHAR(8) NOT NULL,
SV_NAME VARCHAR(20) NOT NULL,
CONSTRAINT SUPERVISOR_SV_ID_CC CHECK (SV_ID LIKE 'SV_%'),
CONSTRAINT SUPERVISOR_DEPT_NO_CC CHECK (DEPT_NO LIKE 'DE_%'),
CONSTRAINT SUPERVISOR_SV_ID_PK PRIMARY KEY (SV_ID),
CONSTRAINT SUPERVISOR_DEPT_NO_FK FOREIGN KEY (DEPT_NO) REFERENCES DEPARTMENT(DEPT_NO));

CREATE TABLE LEAVE_TYPE
(LV_CODE VARCHAR2(8) NOT NULL,
LV_NAME VARCHAR2(30) NOT NULL,
CONSTRAINT LEAVE_TYPE_LV_CODE_CC CHECK (LV_CODE LIKE 'LV_%'),
CONSTRAINT LEAVE_TYPE_LV_CODE_PK PRIMARY KEY (LV_CODE));

CREATE TABLE EMPLOYEE
(EMP_ID VARCHAR2(8) NOT NULL,
DEPT_NO VARCHAR2(8) NOT NULL,
SV_ID VARCHAR2(8) NOT NULL,
EMP_NAME VARCHAR2(20) NOT NULL,
GENDER VARCHAR2(6) NOT NULL,
HIRE_DATE DATE NOT NULL,
PHONE_NUMBER VARCHAR2(15) NOT NULL,
LV_STATUS VARCHAR2(6),
RELATION_STATUS VARCHAR2(8),
ADDRESS VARCHAR2(40),
SALARY_AMOUNT NUMBER(8),
PAYMENT_METHOD VARCHAR2(15),
SALARY_STATUS VARCHAR2(10),
CONSTRAINT EMPLOYEE_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT EMPLOYEE_DEPT_NO_CC CHECK (DEPT_NO LIKE 'DE_%'),
CONSTRAINT EMPLOYEE_SV_ID_CC CHECK (SV_ID LIKE 'SV_%'),
CONSTRAINT EMPLOYEE_GENDER_CC CHECK (GENDER IN ('MALE', 'FEMALE')),
CONSTRAINT EMPLOYEE_PHONE_NUMBER_CC CHECK (PHONE_NUMBER LIKE '___-%'),
CONSTRAINT EMPLOYEE_LV_STATUS_CC CHECK (LV_STATUS IN ('LEAVE', 'ACTIVE')),
CONSTRAINT EMPLOYEE_RELATION_STATUS_CC CHECK (RELATION_STATUS IN ('MARRIED', 'SINGLE')),
CONSTRAINT EMPLOYEE_EMP_ID_PK PRIMARY KEY (EMP_ID),
CONSTRAINT EMPLOYEE_DEPT_NO_FK FOREIGN KEY (DEPT_NO) REFERENCES DEPARTMENT(DEPT_NO),
CONSTRAINT EMPLOYEE_SV_ID_FK FOREIGN KEY (SV_ID) REFERENCES SUPERVISOR(SV_ID));

CREATE TABLE FULL_TIME_EMPLOYEE
(EMP_ID VARCHAR2(8) NOT NULL,
STAFF_STATUS VARCHAR2(10) NOT NULL,
CONSTRAINT FULL_TIME_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT FULL_TIME_STAFF_STATUS_CC CHECK (STAFF_STATUS IN ('ACTIVE', 'NON-ACTIVE')),
CONSTRAINT FULL_TIME_EMPLOYEE_EMP_ID_PK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID));

CREATE TABLE CONTRACT_EMPLOYEE
(EMP_ID VARCHAR2(8) NOT NULL,
CONTRACT_STATUS VARCHAR2(10) NOT NULL,
CONSTRAINT CONTRACT_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT CONTRACT_CONTRACT_STATUS_CC CHECK (CONTRACT_STATUS IN ('ACTIVE', 'NON-ACTIVE')),
CONSTRAINT CONTRACT_EMP_ID_PK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID));

CREATE TABLE LEAVE
(RECD_NO VARCHAR2(8) NOT NULL,
EMP_ID VARCHAR2(8) NOT NULL,
SV_ID VARCHAR2(8) NOT NULL,
LV_CODE VARCHAR2(8) NOT NULL,
APPROVE_STATUS VARCHAR2(10) DEFAULT('PENDING'),
LEAVE_DATE DATE,
BACK_DATE DATE,
CONSTRAINT LEAVE_RECD_NO_CC CHECK (RECD_NO LIKE 'RE_%'),
CONSTRAINT LEAVE_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT LEAVE_SV_ID_CC CHECK (SV_ID LIKE 'SV_%'),
CONSTRAINT LEAVE_LV_CODE_CC CHECK (LV_CODE LIKE 'LV_%'),
CONSTRAINT LEAVE_APPROVE_STATUS_CC CHECK (APPROVE_STATUS IN ('APPROVE', 'DENIED')),
CONSTRAINT LEAVE_RECD_NO_PK PRIMARY KEY (RECD_NO),
CONSTRAINT LEAVE_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID),
CONSTRAINT LEAVE_SV_ID_FK FOREIGN KEY (SV_ID) REFERENCES SUPERVISOR(SV_ID),
CONSTRAINT LEAVE_LV_CODE_FK FOREIGN KEY (LV_CODE) REFERENCES LEAVE_TYPE(LV_CODE));

CREATE TABLE DEPARTMENT_RECORD
(DEPT_NO VARCHAR2(8) NOT NULL,
RECD_NO VARCHAR2(8) NOT NULL,
CONSTRAINT DEPARTMENT_RECORD_DEPT_NO_CC CHECK (DEPT_NO LIKE 'DE_%'),
CONSTRAINT DEPARTMENT_RECORD_RECD_NO_CC CHECK (RECD_NO LIKE 'RE_%'),
CONSTRAINT DEPARTMENT_RECORD_PK PRIMARY KEY (DEPT_NO, RECD_NO),
CONSTRAINT DEPARTMENT_RECORD_DEPT_NO_FK FOREIGN KEY (DEPT_NO) REFERENCES DEPARTMENT(DEPT_NO),
CONSTRAINT DEPARTMENT_RECORD_RECD_NO_FK FOREIGN KEY (RECD_NO) REFERENCES LEAVE(RECD_NO));

CREATE TABLE CURRENT_LEAVE
(LV_CURR VARCHAR2(8) NOT NULL,
EMP_ID VARCHAR2(8) NOT NULL,
ANNUAL_NUM_CURR NUMBER(4),
UNPAID_NUM_CURR NUMBER(4),
SICK_NUM_CURR NUMBER(4),
HOSPITALIZATION_NUM_CURR NUMBER(4),
PROLONG_ILLNESS_NUMBER_CURR NUMBER(4),
EXAMINATION_NUM_CURR NUMBER(4),
MATERNITY_NUM_CURR NUMBER(4),
PATERNITY_NUM_CURR NUMBER(4),
MARRIAGE_NUM_CURR NUMBER(4),
CONSTRAINT CURRENT_LEAVE_LV_CURR_CC CHECK (LV_CURR LIKE 'LC_%'),
CONSTRAINT CURRENT_LEAVE_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT CURRENT_LEAVE_LV_CURR_PK PRIMARY KEY (LV_CURR),
CONSTRAINT CURRENT_LEAVE_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID));

CREATE TABLE FORWARD_LEAVE
(LV_NEXT VARCHAR2(8) NOT NULL,
EMP_ID VARCHAR2(8) NOT NULL,
ANNUAL_NUM_NEXT NUMBER(4),
CONSTRAINT FORWARD_LEAVE_LV_NEXT_CC CHECK (LV_NEXT LIKE 'LN_%'),
CONSTRAINT FORWARD_LEAVE_EMP_ID_CC CHECK (EMP_ID LIKE 'EM_%'),
CONSTRAINT FORWARD_LEAVE_LV_NEXT_PK PRIMARY KEY (LV_NEXT),
CONSTRAINT FORWARD_LEAVE_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID));



--- INSERT VALUES INTO DEPARTMENT ---
INSERT INTO DEPARTMENT VALUES('DEA00001', 'Finance');
INSERT INTO DEPARTMENT VALUES('DEB50892', 'Information Technology');
INSERT INTO DEPARTMENT VALUES('DEF34671', 'Human Resource Management');
INSERT INTO DEPARTMENT VALUES('DEO65894', 'Marketing');
INSERT INTO DEPARTMENT VALUES('DEQ21786', 'Production');

--- INSERT VALUES INTO SUPERVISOR ---
INSERT INTO SUPERVISOR VALUES('SVA00001', 'DEA00001', 'Song Seng');
INSERT INTO SUPERVISOR VALUES('SVD56892', 'DEB50892', 'Pong Lam');
INSERT INTO SUPERVISOR VALUES('SVH30678', 'DEA00001', 'Jia Em');
INSERT INTO SUPERVISOR VALUES('SVS49460', 'DEO65894', 'Chi Hun');
INSERT INTO SUPERVISOR VALUES('SVT78693', 'DEQ21786', 'Ming Hui');
INSERT INTO SUPERVISOR VALUES('SVU55647', 'DEF34671', 'Kok Heng');

--- INSERT VALUES INTO LEAVE_TYPE ---
INSERT INTO LEAVE_TYPE VALUES('LVA00001', 'Annual Leave');
INSERT INTO LEAVE_TYPE VALUES('LVB56178', 'Unpaid Leave');
INSERT INTO LEAVE_TYPE VALUES('LVD34567', 'Sick Leave');
INSERT INTO LEAVE_TYPE VALUES('LVE90625', 'Hospitalization Leave');
INSERT INTO LEAVE_TYPE VALUES('LVG44325', 'Prolong Illness Leave');
INSERT INTO LEAVE_TYPE VALUES('LVK38190', 'Examination Leave');
INSERT INTO LEAVE_TYPE VALUES('LVP82412', 'Maternity Leave');
INSERT INTO LEAVE_TYPE VALUES('LVQ77892', 'Paternity Leave');
INSERT INTO LEAVE_TYPE VALUES('LVR34521', 'Marriage Leave');

--- INSERT VALUES INTO EMPLOYEE ---
INSERT INTO EMPLOYEE VALUES('EMA00001', 'DEO65894', 'SVU55647', 'Chun Hui', 'FEMALE', TO_DATE('15/10/15', 'DD/MM/RR'),
'017-4490234', 'LEAVE', 'MARRIED', '87, JALAN MUKIR, SERI ISKANDAR, PERAK', 3400.00, 'Bank Transfer', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMC90232', 'DEQ21786', 'SVU55647', 'Mou Hang', 'MALE', TO_DATE('08/08/11', 'DD/MM/RR'),
'012-3568890', 'ACTIVE', 'SINGLE', '63, JALAN KAMPAR PUTRA, KAMPAR, PERAK', 2000.00, 'Cash', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMG76513', 'DEB50892', 'SVA00001', 'Lee Jing', 'MALE', TO_DATE('30/06/19', 'DD/MM/RR'),
'011-9063585', 'LEAVE', 'SINGLE', '223, TAMAN MELAWATI, KUALA LUMPUR', 6500.00, 'Cash', 'Suspend');

INSERT INTO EMPLOYEE VALUES('EMI45324', 'DEB50892', 'SVT78693', 'Yong Xiu', 'FEMALE', TO_DATE('11/02/09', 'DD/MM/RR'),
'017-6589235', 'ACTIVE', 'MARRIED', '3, JALAN AMPANG, SELANGOR', 8000.00, 'Cash', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMK80005', 'DEF34671', 'SVD56892', 'Chong Kit', 'MALE', TO_DATE('02/05/10', 'DD/MM/RR'),
'010-9378697', 'LEAVE', 'SINGLE', '45, TAMAN GUA, PULAU PINANG', 4500.00, 'Bank Transfer', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMO69086', 'DEA00001', 'SVH30678', 'Xiao Qian', 'FEMALE', TO_DATE('23/07/14', 'DD/MM/RR'),
'016-5064123', 'ACTIVE', 'SINGLE', '98, TUN AMINAH, JOHOR', 4000.00, 'Bank Transfer', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMP34567', 'DEF34671', 'SVT78693', 'Qian Wen', 'FEMALE', TO_DATE('16/11/19', 'DD/MM/RR'),
'016-4789562', 'ACTIVE', 'MARRIED', '22, JALAN PONTAI, JOHOR', 2500.00, 'Bank Transfer', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMR20708', 'DEO65894', 'SVH30678', 'Wei Li', 'MALE', TO_DATE('12/01/17', 'DD/MM/RR'),
'011-2020356', 'ACTIVE', 'MARRIED', '12, TAMAN PUTERI, PERAK', 3500.00, 'Bank Transfer', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMV66231', 'DEQ21786', 'SVT78693', 'Jun Quan', 'MALE', TO_DATE('26/05/12', 'DD/MM/RR'),
'012-5789689', 'ACTIVE', 'SINGLE', '982, BANDER BARU, KEDAH', 5000.00, 'Cash', 'Paid');

INSERT INTO EMPLOYEE VALUES('EMW98756', 'DEA00001', 'SVA00001', 'Yi Hui', 'MALE', TO_DATE('19/06/13', 'DD/MM/RR'),
'011-2356898', 'ACTIVE', 'SINGLE', '9, JALAN SESAK, SELANGOR', 6500.00, 'Cash', 'Paid');


--- INSERT VALUES INTO FULL_TIME_EMPLOYEE ---
INSERT INTO FULL_TIME_EMPLOYEE VALUES('EMA00001', 'NON-ACTIVE');
INSERT INTO FULL_TIME_EMPLOYEE VALUES('EMI45324', 'NON-ACTIVE');
INSERT INTO FULL_TIME_EMPLOYEE VALUES('EMO69086', 'ACTIVE');
INSERT INTO FULL_TIME_EMPLOYEE VALUES('EMP34567', 'NON-ACTIVE');
INSERT INTO FULL_TIME_EMPLOYEE VALUES('EMV66231', 'ACTIVE');

--- INSERT VALUES INTO CONTRACT_EMPLOYEE ---
INSERT INTO CONTRACT_EMPLOYEE VALUES('EMC90232', 'ACTIVE');
INSERT INTO CONTRACT_EMPLOYEE VALUES('EMG76513', 'NON-ACTIVE');
INSERT INTO CONTRACT_EMPLOYEE VALUES('EMK80005', 'ACTIVE');
INSERT INTO CONTRACT_EMPLOYEE VALUES('EMR20708', 'NON-ACTIVE');
INSERT INTO CONTRACT_EMPLOYEE VALUES('EMW98756', 'ACTIVE');

--- INSERT VALUES INTO LEAVE ---
INSERT INTO LEAVE VALUES('REA00001', 'EMC90232', 'SVU55647', 'LVA00001', 'APPROVE', TO_DATE('23/04/20', 'DD/MM/RR'),
TO_DATE('28/04/20', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REC89045', 'EMG76513', 'SVA00001', 'LVB56178', 'APPROVE', TO_DATE('12/06/17', 'DD/MM/RR'),
TO_DATE('14/06/17', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('RED35463', 'EMI45324', 'SVT78693', 'LVK38190', 'DENIED', TO_DATE('27/10/18', 'DD/MM/RR'),
TO_DATE('30/10/18', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REH67281', 'EMG76513', 'SVA00001', 'LVE90625', 'APPROVE', TO_DATE('30/03/20', 'DD/MM/RR'),
TO_DATE('15/04/20', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REM89462', 'EMK80005', 'SVD56892', 'LVP82412', 'APPROVE', TO_DATE('30/03/20', 'DD/MM/RR'),
TO_DATE('08/04/20', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REP42853', 'EMO69086', 'SVH30678', 'LVP82412', 'DENIED', TO_DATE('18/11/17', 'DD/MM/RR'),
TO_DATE('25/11/17', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('RET89056', 'EMA00001', 'SVU55647', 'LVQ77892', 'APPROVE', TO_DATE('30/03/20', 'DD/MM/RR'),
TO_DATE('06/04/20', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REU23548', 'EMP34567', 'SVT78693', 'LVA00001', 'APPROVE', TO_DATE('05/12/19', 'DD/MM/RR'),
TO_DATE('06/12/19', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REV45892', 'EMR20708', 'SVH30678', 'LVQ77892', 'APPROVE', TO_DATE('15/08/18', 'DD/MM/RR'),
TO_DATE('18/08/18', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REW02458', 'EMV66231', 'SVT78693', 'LVR34521', 'DENIED', TO_DATE('10/10/14', 'DD/MM/RR'),
TO_DATE('14/10/14', 'DD/MM/RR'));

INSERT INTO LEAVE VALUES('REY85369', 'EMW98756', 'SVA00001', 'LVG44325', 'DENIED', TO_DATE('22/05/20', 'DD/MM/RR'),
TO_DATE('27/05/20', 'DD/MM/RR'));

--- INSERT VALUES INTO DEPARTMENT_RECORD ---
INSERT INTO DEPARTMENT_RECORD VALUES('DEA00001', 'REP42853');
INSERT INTO DEPARTMENT_RECORD VALUES('DEA00001', 'REY85369');
INSERT INTO DEPARTMENT_RECORD VALUES('DEB50892', 'REC89045');
INSERT INTO DEPARTMENT_RECORD VALUES('DEB50892', 'REH67281');
INSERT INTO DEPARTMENT_RECORD VALUES('DEB50892', 'RED35463');
INSERT INTO DEPARTMENT_RECORD VALUES('DEF34671', 'REM89462');
INSERT INTO DEPARTMENT_RECORD VALUES('DEF34671', 'REU23548');
INSERT INTO DEPARTMENT_RECORD VALUES('DEO65894', 'RET89056');
INSERT INTO DEPARTMENT_RECORD VALUES('DEO65894', 'REV45892');
INSERT INTO DEPARTMENT_RECORD VALUES('DEQ21786', 'REA00001');
INSERT INTO DEPARTMENT_RECORD VALUES('DEQ21786', 'REW02458');

--- INSERT VALUES INTO CURRENT_LEAVE ---
INSERT INTO CURRENT_LEAVE VALUES('LCA00001', 'EMA00001', 30, 10, 15, 30, 60 ,10, 90, NULL, NULL);
INSERT INTO CURRENT_LEAVE VALUES('LCB23568', 'EMC90232', 25, 20, 15, 30, 60, 10, NULL, NULL, 3);
INSERT INTO CURRENT_LEAVE VALUES('LCC85694', 'EMG76513', 30, 10 ,15, 30, 44, 10, NULL, NULL, 3);
INSERT INTO CURRENT_LEAVE VALUES('LCG32548', 'EMI45324', 13, 20, 15, 30 ,60, 10, 90, 7, NULL);
INSERT INTO CURRENT_LEAVE VALUES('LCK52864', 'EMK80005', 30, 20, 6, 30, 60, 10, NULL, NULL, 3);
INSERT INTO CURRENT_LEAVE VALUES('LCL02145', 'EMO69086', 11, 20, 15, 30, 60, 10, NULL, NULL, 3);
INSERT INTO CURRENT_LEAVE VALUES('LCN74251', 'EMP34567', 22, 10, 15, 30, 60 ,10 ,90, 7, NULL);
INSERT INTO CURRENT_LEAVE VALUES('LCP23238', 'EMR20708', 25, 10, 15, 30, 60, 10, NULL, 7, NULL);
INSERT INTO CURRENT_LEAVE VALUES('LCR02369', 'EMV66231', 30, 20, 15, 30, 60, 10, NULL, NULL, 3);
INSERT INTO CURRENT_LEAVE VALUES('LCT85204', 'EMW98756', 16, 20, 15, 30, 55, 10, NULL, NULL, 3);

--- INSERT VALUES INTO FORWARD_LEAVE ---
INSERT INTO FORWARD_LEAVE VALUES('LNA00001', 'EMA00001', 0);
INSERT INTO FORWARD_LEAVE VALUES('LNB20203', 'EMC90232', 0);
INSERT INTO FORWARD_LEAVE VALUES('LNC58642', 'EMG76513', 0);
INSERT INTO FORWARD_LEAVE VALUES('LND45421', 'EMI45324', 17);
INSERT INTO FORWARD_LEAVE VALUES('LNE85695', 'EMK80005', 0);
INSERT INTO FORWARD_LEAVE VALUES('LNF45853', 'EMO69086', 19);
INSERT INTO FORWARD_LEAVE VALUES('LNG85209', 'EMP34567', 8);
INSERT INTO FORWARD_LEAVE VALUES('LNM90235', 'EMR20708', 5);
INSERT INTO FORWARD_LEAVE VALUES('LNN00356', 'EMV66231', 0);
INSERT INTO FORWARD_LEAVE VALUES('LNO65984', 'EMW98756', 14);

